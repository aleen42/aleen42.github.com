"use strict";var SColor={image:null,canvas:null,context:null,init:function(a){this.image=a;this.canvas=this.createCanvas();this.context=this.canvas.getContext("2d");this.canvas.width=this.image.width;this.canvas.height=this.image.height;this.context.drawImage(this.image,0,0,this.canvas.width,this.canvas.height);$(document.body).append(this.canvas)},createCanvas:function(){return document.createElement("canvas")},convertRGB:function(a){return{r:a[0],g:a[1],b:a[2]}},getBlock:function(e,d,b,a){var c=this.context.getImageData(e,d,b,a).data;return this.convertRGB(c)},traceNext:function(a,h,b,c,d,f){var g=a+b,e=h+Math.tan(c)*b;if(this.internalArea(g,e)&&this.checkColor(this.getBlock(g,Math.round(e),1,1),d,f)){return this.traceNext(g,e,b,c,d,f)}return{x:a,y:h}},internalArea:function(a,b){if((a>this.canvas.width||a<0)||(b>this.canvas.height||b<0)){return false}return true},checkColor:function(a,c,b){if(a.r<(c.r-c.r*b)||a.r>(c.r+c.r*b)){return false}if(a.g<(c.g-c.g*b)||a.g>(c.g+c.g*b)){return false}if(a.b<(c.b-c.b*b)||a.b>(c.b+c.b*b)){return false}return true},traceFourPoints:function(d,b,h){var g=1,a=1;var f=this.getBlock(d,b,g,a);var e=0;var c=null;c=setInterval(function(){if(e>360){clearInterval(c)}if(e==90||e==270){e++;return}var j=SColor.traceNext(d,b,1,e,f,h);$("#point-container").append('<div class="point" style="top: '+(j.y-1)+"px; left: "+(j.x-1)+'px"></div>');var i=SColor.traceNext(d,b,-1,e,f,h);$("#point-container").append('<div class="point" style="top: '+(i.y-1)+"px; left: "+(i.x-1)+'px"></div>');e++},1)}};